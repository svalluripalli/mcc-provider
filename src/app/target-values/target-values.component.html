<div class="group-header">Target Laboratory/Clinical Values</div>
<!--<table mat-table [dataSource]="dataservice.goals.activeTargets" width="100%">-->
<!--<button mat-button (click)="refreshTargets()">Refresh</button>-->
<!--<table mat-table [dataSource]="dataservice.targetValues" width="100%">-->
<table mat-table [dataSource]="targetValuesDataSource" width="100%">
  <ng-container matColumnDef="measure">
    <th mat-header-cell *matHeaderCellDef>Measure</th>
    <td mat-cell *matCellDef="let target"> {{target.measure}} </td>
    <!--    <td mat-cell *matCellDef="let target"> {{target.measure.text}} </td>-->
  </ng-container>

  <ng-container matColumnDef="mostRecentResult">
    <th mat-header-cell *matHeaderCellDef>Most Recent Result</th>
    <td mat-cell *matCellDef="let target"> {{target.mostRecentResult}} </td>
  </ng-container>

  <ng-container matColumnDef="date">
    <th mat-header-cell *matHeaderCellDef>Test Date</th>
    <td mat-cell *matCellDef="let target"> {{target.date}} </td>
  </ng-container>

  <ng-container matColumnDef="target">
    <th mat-header-cell *matHeaderCellDef>Target (if available)</th>
    <!--<td mat-cell *matCellDef="let target">{{formatTargetValue(target)}}</td>-->
    <td mat-cell *matCellDef="let target"> {{target.target}} </td>
  </ng-container>


  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

  <tr mat-row *matRowDef="let row; columns: displayedColumns;"
      [ngClass]="{'critical': row.status == 'high',
                  'outofrange': row.highlighted
                  }"
      (click)="row.highlighted = !row.highlighted" (mouseover)="row.hovered = true" (mouseout)="row.hovered = false">

  </tr>

</table>

