<div class="group-header" >Target Laboratory/Clinical Values</div>
<table mat-table [dataSource]="dataservice.goals.activeTargets" width="100%">

  <ng-container matColumnDef="measure">
    <th mat-header-cell *matHeaderCellDef>Measure</th>
    <td mat-cell *matCellDef="let target"> {{target.measure.text}} </td>
  </ng-container>

  <ng-container matColumnDef="mostRecentResult">
    <th mat-header-cell *matHeaderCellDef>Most Recent Result</th>

    <td mat-cell *matCellDef="let target"
        >{{goalsdataservice.getMostRecentObservationResult(dataservice.currentPatientId, target.measure.coding.code) }}</td>
<!--
    <td mat-cell *matCellDef="let targetValue"> {{'1.111'}} </td>
-->
  </ng-container>

  <ng-container matColumnDef="date">
    <th mat-header-cell *matHeaderCellDef>Test Date</th>
    <td mat-cell *matCellDef="let target"> {{'01/01/2020'}} </td>
<!--    <th mat-cell *matCellDef="let targetValue"> {{targetValue.date}} </th>-->
  </ng-container>

  <ng-container matColumnDef="target">
    <th mat-header-cell *matHeaderCellDef>Target (if available) </th>
    <td mat-cell *matCellDef="let target">{{formatTargetValue(target)}}</td>
<!--    <td mat-cell *matCellDef="let targetValue"> {{targetValue.target}} </td>-->
  </ng-container>


  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="row.highlighted = !row.highlighted" (mouseover)="row.hovered = true" (mouseout)="row.hovered = false"></tr>

<!--
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" [ngClass]="{'outofrange': row.status == 'high'}" (click)="row.highlighted = !row.highlighted" (mouseover)="row.hovered = true" (mouseout)="row.hovered = false"></tr>
-->
</table>

